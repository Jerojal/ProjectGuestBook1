<html>
<!-- BOOTSRAP - Styling -->
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
    crossorigin="anonymous"
  />
  <!-- more styling -->
  <style>
    div {
      margin: 10px;
    }
    form {
      border: 1px solid lightgrey;
      padding: 10px;
    }
  </style>
  <script>
    window.onload = (event) =>{
      
      var sendButton = document.getElementById("myButton");
      sendButton.addEventListener("click", function(){
        
        var username = document.getElementById("username").value;
        var message = document.getElementById("message").value;
        var country = document.getElementById("country").value;
        
        console.log(username);
        // We create AJAX object which is waiting response
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function(){
          if(this.readyState == 4 && this.status == 200){
            // Response data will be shown in status field
            document.getElementById("status").innerHTML = this.responseText;
            console.log(this.responseText);
            // alert(this.responseText);
          };
        };
        xmlhttp.open("POST","/sendAjax", true);
        xmlhttp.setRequestHeader(
          "Content-type",
          "application/x-www-form-urlencoded"
        );
        xmlhttp.send("username=" + username + "&message=" + message + "&country=" + country);
        
      });
    };
    </script>
  <body>
    <body>
      <a href="/" class="active">Home</a>
      <a href="/guestbook">Guestbook</a>
      <a href="/newmessage">Leave a greeting</a>
      <a href="/ajaxmessage">Ajax message</a>
    <div>
      <form  method="POST" action="/sendAjax">
        <div class="form-group">
          <label for="username">Username</label>
          <input
            type="username"
            class="form-control"
            id="username"
            aria-describedby="username"
            placeholder="Enter username"
            name="username" 
          />
        </div>
        <div class="form-group">
          <label for="message">Message</label>
           <input
            type="message"
            class="form-control"
            id="message"
            placeholder="message"
            name="message"
          />
        </div>
        <div class="form-group">
          <label for="exampleCountry">Country</label>
           <input
            type="country"
            class="form-control"
            id="country"
            placeholder="Country"
            name="country"
          />
        </div>
        <button type="button" id="myButton" class="btn btn-primary">
          Send
        </button>
        <div id="status" class="form-group"></div>
      </form>
    </div>
    
  
  </body>
</html>